" use vim-plug to manage the plugins
" Install vim-plug from : https://github.com/junegunn/vim-plug/
"
"  mkdir -p ~/.vim/autoload
"  curl -fLo ~/.vim/autoload/plug.vim \
"https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
"
au BufNewFile,BufRead *.yaml,*.yml so ~/.vim/indent/yaml.vim

call plug#begin()
Plug 'tpope/vim-sensible'
Plug 'chase/vim-ansible-yaml'
Plug 'scrooloose/syntastic'
Plug 'nvie/vim-flake8'
Plug 'rodjek/vim-puppet'
Plug 'tpope/vim-fugitive'
Plug 'ervandew/supertab' 
Plug 'scrooloose/nerdtree'
Plug 'bling/vim-airline' 
Plug 'altercation/vim-colors-solarized'
" YCM needs it's installer to be called as well
Plug 'Valloric/YouCompleteMe', { 'do': './install.sh' }
" on FreeBSD, make sure you have clang36 (or clang36) and cmake installed
" in order to build YCM libraries
" check the YCM Readme for details, but essentially:
" pkg install llvm35 boost-all boost-python-libs clang35
" export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/llvm35/lib/
" ./install.sh --clang-completer --system-libclang --system-boost
"
" If you are getting some python exceptions, check if python supports SSL
" I have seen errors when python is built with LibreSSL
call plug#end()
"
" additionally for syntax checking/linting install:
" python:
"   * flake8 
"     install it in order to use vim-flake8
"     for example: pip install flake8
"     flake8 can then be invoked by 'F7' 
"
"   * pylint 
"     could also be used and is more strict
"
" bash:
"   * shellcheck
"     install shellcheck package
"   
" if you want to display airline tabline
" then uncomment the next line
" let g:airline#extensions#tabline#enabled = 1
"
"
"Open nerdtree by default if new empty vim is opened
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | NERDTree | endif


let g:ycm_autoclose_preview_window_after_completion = 1

set nocompatible 
syntax enable
set showmode " always show mode
set hlsearch

" for colors, see this awesome color table
" https://github.com/guns/xterm-color-table.vim


" use solarized colorscheme on my mac
if has('mac')
set background=light
colorscheme solarized
endif

hi Search ctermfg=31 ctermbg=157
highlight OverLength ctermbg=red ctermfg=white
set colorcolumn=81
highlight ColorColumn ctermbg=DarkGray

set backspace =2
set visualbell
"max line length should be no more than 80 characters
"highlight the 80th character and draw a vertical line
"at 81st character
match OverLength /\%80v.\+/

set cursorline
set smartindent

" smartindent does nothing useful for python 
" also commented out lines don't get indented
" so the solution is to disable autoindenting for python scripts
au! FileType python setl nosmartindent

set number
set ruler
set showmatch
set expandtab
set smarttab autoindent
set tabstop=4 
set shiftwidth=4 
set softtabstop=4 
set shiftround 

" keyboard shortcuts
nnoremap <F5> :set invpaste paste?<Enter>
imap <F5> <C-O><F5>
set pastetoggle=<F5>

highlight Comment ctermfg=gray guifg=gray
"make ctrl+c ctrl+v work in gvim
nmap <C-V> "+gP
imap <C-V> <ESC><C-V>i
vmap <C-C> "+y 

map <C-n> :NERDTreeToggle<CR>
map <C-f> :NERDTreeFind<CR>

" custom commands
" execute the script
command R !./%
" execute as a python script
command P ! python ./%
" validate puppet manifest
command Pupp ! puppet parser validate %

