if [ -e "$HOME/.colors" ]; then
    source "$HOME/.colors"
fi
if [ -e "$HOME/.bash_aliases" ]; then
    source "$HOME/.bash_aliases"
fi
if [ -e "$HOME/.bash_mac" ]; then
    source "$HOME/.bash_mac"
    echo ".bash_mac loaded"
fi
if [ -e "$HOME/.bash_mac" ]; then
    source "$HOME/.bash_mac"
fi
if [ -e "$HOME/.ansiblerc" ]; then
    source "$HOME/.ansiblerc"
fi

# common settings
# big hist file is good for lazy (or forgetful) admins
HISTFILESIZE=10000
HISTSIZE=10000
# add timestamps to history entries
HISTTIMEFORMAT="[ %d.%m.%y %T ] "
# no point in saving dupes
HISTCONTROL=ignoredups
PS1='[\u@\h \w]\$ '

if [ -d "${HOME}/bin" ]; then
    PATH=${HOME}/bin:$PATH
fi
if [ -d "${HOME}/opt/bin" ]; then
    PATH=${HOME}/opt/bin:$PATH
fi

# bin-scripts should be in either ~/opt or ~/github
if [ -d "${HOME}/opt/bin-scripts" ]; then
    PATH=${HOME}/opt/bin-scripts/laptop:$PATH
    PATH=${HOME}/opt/bin-scripts:$PATH
fi
if [ -d "${HOME}/github/bin-scripts" ]; then
    PATH=${HOME}/github/bin-scripts/laptop:$PATH
    PATH=${HOME}/github/bin-scripts:$PATH
fi

export PATH

if [ "$OSTYPE" == "freebsd11.0" ]; then
    if [ -x /usr/local/bin/most ]; then
        export PAGER=most
    elif [ -x /usr/bin/less ]; then
        export PAGER=less
    else
        echo "Please consider installing 'most' or 'less'"
    fi
elif [ "$OSTYPE" == "linux-gnu" ]; then
    if [ -x /usr/bin/most ]; then
        export PAGER=most
    elif [ -x /usr/bin/less ]; then
        export PAGER=less
    else
        echo "Please consider installing 'most' or 'less'"
    fi
fi
export HISTFILESIZE HISTSIZE HISTTIMEFORMAT PS1
# some basic env variables
export VAGRANT_DEFAULT_PROVIDER=virtualbox
export EDITOR="vim"


# Add ssh-key to ssh-agent if this is one of the workstations
# I assume that ssh-agent is started by something else (like .xinitrc).
if (( SSH_AGENT_PID )); then
    if ssh-add -L > /dev/null; then
        echo "SSH key already loaded"
    else
        echo "Adding ssh key to ssh-agent"
        ssh-add
    fi
fi
# avoid breaking SCP
if [ "$SSH_TTY" -o "$DESKTOP_SESSION" ]; then
    echo ".bashrc loaded"
fi
